# Apple Silicon (M1/M2/M3) optimized configuration

# Model Configuration (optimized for MLX)
RERANKER_MODEL=BAAI/bge-reranker-base
RERANKER_MAX_LENGTH=512
RERANKER_QUANTIZATION=bf16
RERANKER_LOCAL_MODEL_PATH=

# Performance Settings (optimized for Apple Silicon)
RERANKER_MAX_PARALLEL=6
RERANKER_MAX_QUEUE=15
RERANKER_QUEUE_TIMEOUT=45
RERANKER_BATCH_SIZE=32
RERANKER_WORKER_TIMEOUT=90

# Device Configuration (MLX enabled)
RERANKER_DEVICE=mlx
RERANKER_USE_MLX=true

# Caching 
ENABLE_PREDICTION_CACHE=true
CACHE_TTL_SECONDS=600
CLEAR_CACHE_INTERVAL=2400

# Redis (optional)
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379/0

# Advanced Features
MICRO_BATCH_ENABLED=true
MICRO_BATCH_WINDOW_MS=8.0
RERANKER_ENABLE_DISTRIBUTED=false

# Server Configuration
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO

# Performance Optimizations (Apple Silicon specific)
WARMUP_ON_START=true
ENABLE_TORCH_COMPILE=false  # Not needed with MLX
ENABLE_MIXED_PRECISION=false  # MLX handles this internally
RERANKER_MAX_RETRIES=3